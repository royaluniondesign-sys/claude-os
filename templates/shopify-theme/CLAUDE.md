# Shopify Theme — Claude Instructions

## Stack
- **Platform:** Shopify Online Store 2.0
- **Language:** Liquid + JSON templates
- **Styling:** CSS custom properties + vanilla JS (no heavy frameworks)
- **CLI:** Shopify CLI 3.x
- **Testing:** Theme Check + Lighthouse

## Project Structure
```
├── assets/                 # CSS, JS, images, fonts
│   ├── base.css            # Global styles + CSS variables
│   ├── component-*.css     # Per-component styles
│   └── *.js                # Vanilla JS modules
├── blocks/                 # App blocks
├── config/
│   ├── settings_data.json  # Theme settings values
│   └── settings_schema.json # Theme customizer schema
├── layout/
│   └── theme.liquid        # Main layout
├── locales/                # Translation strings
├── sections/               # Customizable sections
├── snippets/               # Reusable Liquid components
└── templates/              # Page templates (JSON)
    ├── index.json
    ├── product.json
    ├── collection.json
    └── ...
```

## Liquid Conventions
- Use `{% liquid %}` tags for multi-line logic — avoid inline `{% %}` clutter
- Assign variables at the top of sections before rendering
- Cache expensive filters: `assign filtered = collection.products | where: "available", true`
- Use `{% render %}` (not `{% include %}`) for snippets — scoped by default
- Always provide schema defaults so sections work out-of-the-box

## Performance Rules
- Lazy load all images below the fold: `loading="lazy"`
- Use `image_url` filter with explicit dimensions — no full-size images
- Defer non-critical JS: `defer` or `type="module"`
- Preload LCP image in `<head>` with `fetchpriority="high"`
- Critical CSS inlined, rest loaded async
- Target: LCP < 2.5s, CLS < 0.1, FID < 100ms on mobile

## SEO Standards
- Unique `<title>` and `<meta name="description">` per template
- Canonical URL on every page
- JSON-LD structured data: Product, BreadcrumbList, Organization
- OpenGraph + Twitter Card tags on product and collection pages
- XML sitemap auto-generated by Shopify — ensure all templates indexable
- Alt text on every image — use product/variant alt fields

## Accessibility
- All interactive elements keyboard-navigable
- Focus styles visible — never `outline: none` without replacement
- ARIA labels on icon-only buttons
- Color contrast ratio minimum 4.5:1
- Skip-to-content link in layout

## Section Schema Best Practices
- Every section has a name, max_blocks, and presets
- Use `select` not free text for style options
- Group related settings in named blocks
- Provide sensible defaults for all settings

## Commands Available
- `/shopify:section [name]` — Scaffold new section with schema, liquid, CSS
- `/shopify:snippet [name]` — Create reusable snippet component
- `/shopify:block [name]` — Create app block for sections
- `/shopify:seo` — Audit and improve SEO across all templates
- `/shopify:perf` — Run performance audit with fix recommendations
- `/shopify:a11y` — Accessibility audit
- `/shopify:deploy` — Push to Shopify via CLI
